cmake_minimum_required(VERSION 2.8)
project(rtsp_encoder)
#set( CMAKE_CXX_FLAGS "-std=c++11" )
include_directories(${PROJECT_SOURCE_DIR}/../lib/ffmpeg/include/)
add_executable(${PROJECT_NAME} "../src/main.cpp""../src/export.cpp")
message("PROJECT_SOURCE_DIR: " ${PROJECT_SOURCE_DIR})
# target_link_libraries( rtsp_encoder )
target_link_libraries(rtsp_encoder -L${PROJECT_SOURCE_DIR}/../lib/ffmpeg/dll -lavcodec-56 -lavformat-56 -lavdevice-56 -lavfilter-5  -lpostproc-53 -lswresample-1 -lswscale-3 -lavutil-54)
file(COPY ${PROJECT_SOURCE_DIR}/../lib/ffmpeg/dll/avcodec-56.dll DESTINATION . FOLLOW_SYMLINK_CHAIN)
file(COPY ${PROJECT_SOURCE_DIR}/../lib/ffmpeg/dll/avdevice-56.dll DESTINATION . FOLLOW_SYMLINK_CHAIN)
file(COPY ${PROJECT_SOURCE_DIR}/../lib/ffmpeg/dll/avfilter-5.dll DESTINATION . FOLLOW_SYMLINK_CHAIN)
file(COPY ${PROJECT_SOURCE_DIR}/../lib/ffmpeg/dll/avformat-56.dll DESTINATION . FOLLOW_SYMLINK_CHAIN)
file(COPY ${PROJECT_SOURCE_DIR}/../lib/ffmpeg/dll/avutil-54.dll DESTINATION . FOLLOW_SYMLINK_CHAIN)
file(COPY ${PROJECT_SOURCE_DIR}/../lib/ffmpeg/dll/postproc-53.dll DESTINATION . FOLLOW_SYMLINK_CHAIN)
file(COPY ${PROJECT_SOURCE_DIR}/../lib/ffmpeg/dll/swresample-1.dll DESTINATION . FOLLOW_SYMLINK_CHAIN)
file(COPY ${PROJECT_SOURCE_DIR}/../lib/ffmpeg/dll/swscale-3.dll DESTINATION . FOLLOW_SYMLINK_CHAIN)
